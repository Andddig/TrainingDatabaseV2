<!-- Essential scripts - jQuery and Bootstrap -->
<script src="/js/jquery.min.js"></script>
<script src="/js/bootstrap.bundle.min.js"></script>
<script src="/js/confetti.browser.min.js"></script>

<!-- Dropdown initialization -->
<script>
  $(document).ready(function() {
    // Initialize Bootstrap dropdowns
    $('.dropdown-toggle').dropdown();
    
1    // Better dropdown behavior for desktop - keep menu open when hovering on dropdown or its menu
    if (window.innerWidth >= 992) {
      $('.dropdown').on({
        // Show dropdown on hover
        mouseenter: function() {
          $(this).addClass('show');
          $(this).find('.dropdown-menu').addClass('show');
        },
        // Only hide when mouse leaves both dropdown and its menu
        mouseleave: function() {
          $(this).removeClass('show');
          $(this).find('.dropdown-menu').removeClass('show');
        }
      });
    }
    
    // Enable click functionality on dropdown toggles for mobile and backup for desktop
    $('.dropdown-toggle').on('click', function(e) {
      e.preventDefault();
      const dropdownList = $(this).next('.dropdown-menu');
      $('.dropdown-menu').not(dropdownList).removeClass('show');
      dropdownList.toggleClass('show');
    });

    if (typeof confetti === 'function' && document.querySelector('.alert.alert-success')) {
      confetti({
        particleCount: 110,
        spread: 80,
        origin: { y: 0.65 }
      });

      setTimeout(function() {
        confetti({
          particleCount: 80,
          spread: 60,
          origin: { y: 0.7 }
        });
      }, 280);
    }
  });
</script> 